--- a/drivers/crypto/inside-secure/eip93/eip93-main.c
+++ b/drivers/crypto/inside-secure/eip93/eip93-main.c
@@ -421,6 +421,12 @@ static int eip93_crypto_probe(struct pla
 	eip93->dev = dev;
 	platform_set_drvdata(pdev, eip93);
 
+	ret = dma_set_mask_and_coherent(dev, DMA_BIT_MASK(32));
+	if (ret) {
+		dev_err(dev, "No suitable DMA available\n");
+		return ret;
+	}
+
 	eip93->base = devm_platform_ioremap_resource(pdev, 0);
 	if (IS_ERR(eip93->base))
 		return PTR_ERR(eip93->base);
@@ -432,6 +438,10 @@ static int eip93_crypto_probe(struct pla
 	ret = devm_request_threaded_irq(eip93->dev, eip93->irq, eip93_irq_handler,
 					NULL, IRQF_ONESHOT,
 					dev_name(eip93->dev), eip93);
+	if (ret) {
+		dev_err(dev, "Failed to request IRQ %d: %d\n", eip93->irq, ret);
+		return ret;
+	}
 
 	eip93->ring = devm_kcalloc(eip93->dev, 1, sizeof(*eip93->ring), GFP_KERNEL);
 	if (!eip93->ring)
